// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}


model Members {
    id            String    @id @default(uuid()) @map("_id") @db.ObjectId
    name          String
    email         String    @unique
    image         String?
    role          String?
    divisionId    String    @db.ObjectId
    division      Divisions  @relation(fields: [divisionId], references: [id])
    projectId     String[]  @db.ObjectId
    project       Projects[] @relation(fields: [projectId], references: [id])
}

model Divisions {
    id            String    @id @default(auto()) @map("_id") @db.ObjectId
    division_name String
    member        Members[]
}

model Projects {
    id            String    @id @default(auto()) @map("_id") @db.ObjectId
    project_name  String
    project_slug  String
    description   String
    timeline      Timeline
    memberId      String[]    @db.ObjectId
    member        Members[]   @relation(fields: [memberId], references: [id])
    techId        String[]    @db.ObjectId
    tech          Techs[]     @relation(fields: [techId], references: [id])

}
model Techs{
    id            String   @id @default(auto()) @map("_id") @db.ObjectId
    tech_name     String
    slug          String
    projectId     String[]  @db.ObjectId
    project       Projects[] @relation(fields: [projectId], references: [id])
}

type Timeline{
    activity      String
    date          DateTime
}
